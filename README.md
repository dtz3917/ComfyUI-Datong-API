# ComfyUI-Datong-API (大桶API-图像)

这是一个为 ComfyUI 设计的图像生成插件，目前支持 **豆包 (火山引擎)** 的图像生成与编辑功能。
特点是支持多图输入（图生图）、自动比例计算，以及高扩展性架构。

## 功能特点
- **文生图 / 图生图**：支持豆包 4.5/4.0 等模型。
- **自动比例**：输入图片时，可选择“与原图一致”，自动计算最接近的 API 支持比例。
- **智能压缩**：自动将输入图片压缩为符合 API 限制的高质量 JPEG 格式。
- **多图支持**：支持最多 5 张图片输入（用于多图编辑/换装等功能）。

## 安装方法
1. 进入你的 ComfyUI 插件目录：`ComfyUI/custom_nodes/`
2. `git clone` 本仓库，或者直接下载压缩包解压。
3. 重启 ComfyUI。

## 使用指南 (必读！)
本插件调用的是火山引擎 (Volcengine) 的 API，你需要自己申请账号。

1. **注册/登录**：访问 [火山引擎控制台](https://console.volcengine.com/ark/region:ark+cn-beijing/endpoint)。
2. **创建接入点 (Endpoint)**：
   - 在“在线推理” -> “创建推理接入点”。
   - 选择模型（如 `Doubao-Seedream-4.5`）。
   - 创建成功后，你会获得一个 **Endpoint ID** (格式如 `ep-2025...`)。
3. **获取 API Key**：
   - 在控制台右上角或 API Key 管理页面创建一个 Key。
4. **填入节点**：
   - 在 ComfyUI 的“大桶API”节点中，分别填入你的 **API Key** 和 **Endpoint ID** 即可使用。

## 免责声明
本插件仅作为 API 调用工具，产生的所有费用由用户在火山引擎账户中自行承担。